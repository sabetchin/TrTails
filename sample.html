<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreeTails - Olongapo Adoption Directory</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* All your previous CSS styles go here */
        :root { 
            --nav-height: 80px; 
            --primary-color: #0F7A5F;
            --secondary-color: #ff7a59;
            --accent-color: #ffd166;
            --text-color: #333;
            --light-bg: #f8f9fa;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--text-color);
            min-height: 100vh;
        }
        
        /* Navigation Styles */
        @media (min-width: 1000px) {
            nav { 
                position: fixed; 
                left:24px; 
                top:24px; 
                width:300px; 
                height:calc(100vh - 48px); 
                border-radius:18px; 
                padding:20px; 
                background: linear-gradient(180deg,#134E33,#0F7A5F); 
                box-shadow:0 20px 60px rgba(9,20,18,0.18); 
                z-index: 1000;
            }
            .nav-container { 
                height:100%; 
                display:flex; 
                flex-direction:column; 
                gap:18px; 
            }
            .nav-brand {
                font-size: 24px;
                font-weight: bold;
                color: white;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px 0;
            }
            .nav-links { 
                display:flex; 
                flex-direction:column; 
                gap:10px; 
                margin-top:12px; 
                padding-top:12px; 
                border-top:1px solid rgba(255,255,255,0.1); 
                list-style: none;
            }
            .nav-links li a { 
                color: rgba(255,255,255,0.95); 
                padding: 10px 12px; 
                border-radius: 10px; 
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 10px;
                transition: background-color 0.3s;
            }
            .nav-links li a:hover {
                background-color: rgba(255,255,255,0.1);
            }
            .nav-links li a.active {
                background-color: rgba(255,255,255,0.15);
            }
            .sidebar-profile { 
                margin-top: auto;
                padding-top: 20px;
                border-top: 1px solid rgba(255,255,255,0.1);
            }
            .profile-mini { 
                display:flex; 
                gap:12px; 
                align-items:center; 
                margin-bottom: 15px;
            }
            .profile-mini-avatar { 
                width:54px; 
                height:54px; 
                border-radius:12px; 
                display:flex; 
                align-items:center; 
                justify-content:center; 
                background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05)); 
                color:#fff; 
                font-weight:700; 
                box-shadow: 0 8px 24px rgba(0,0,0,0.12); 
                font-size: 20px;
            }
            .profile-mini-name {
                color: white;
                font-weight: 600;
                font-size: 16px;
            }
            .profile-mini-role {
                color: rgba(255,255,255,0.7);
                font-size: 12px;
                margin-top: 2px;
            }
            .report-btn { 
                background: linear-gradient(90deg,#ffd166,#ff7a59); 
                color:#123; 
                font-weight:700; 
                padding:12px; 
                border-radius:12px; 
                display:flex; 
                align-items:center; 
                gap:10px; 
                box-shadow:0 8px 24px rgba(0,0,0,0.12); 
                border: none;
                cursor: pointer;
                width: 100%;
                justify-content: center;
                transition: transform 0.3s;
                font-size: 14px;
                margin-top: 10px;
            }
            .report-btn:hover {
                transform: translateY(-2px);
            }
            .auth-buttons {
                display: flex;
                flex-direction: column;
                gap: 8px;
                margin-top: 15px;
            }
            .auth-buttons .btn {
                width: 100%;
                padding: 10px;
                border-radius: 8px;
                border: none;
                cursor: pointer;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                transition: all 0.3s;
                font-size: 14px;
            }
            .btn-primary {
                background: linear-gradient(135deg, #0F7A5F, #134E33);
                color: white;
            }
            .btn-outline {
                background: transparent;
                border: 2px solid white;
                color: white;
            }
            .container { 
                margin-left:360px; 
                max-width: calc(100% - 380px); 
                padding: 30px;
                min-height: 100vh;
            }
        }
        
        @media (max-width: 999px) {
            nav { 
                position: sticky; 
                top:0; 
                width:100%; 
                height:var(--nav-height); 
                border-radius:0; 
                left:0; right:0; 
                padding:0 18px; 
                background: linear-gradient(180deg,#134E33,#0F7A5F);
                z-index: 1000;
                display: flex;
                align-items: center;
            }
            .nav-container { 
                width: 100%;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .nav-brand {
                font-size: 20px;
                font-weight: bold;
                color: white;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            .container { 
                margin-left:0; 
                max-width:100%; 
                padding: 20px;
            }
            .sidebar-profile, .report-btn { 
                display:none; 
            }
        }
        
        /* Main Container Styles */
        .header {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            font-size: 40px;
        }
        
        .logo-text {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .tagline {
            font-size: 14px;
            color: #666;
            margin-top: 4px;
        }
        
        .subtagline {
            font-size: 12px;
            color: #888;
            margin-top: 2px;
        }
        
        .header-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        /* Button Styles */
        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 14px;
            text-decoration: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #0F7A5F, #134E33);
            color: white;
            border: none;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(15, 122, 95, 0.3);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
        }
        
        .btn-icon {
            padding: 10px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            background: white;
            padding: 15px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            overflow-x: auto;
        }
        
        .tab-btn {
            padding: 12px 24px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: 600;
            border-radius: 10px;
            color: #666;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .tab-btn:hover {
            background-color: rgba(15, 122, 95, 0.1);
        }
        
        .tab-btn.active {
            background: linear-gradient(135deg, #0F7A5F, #134E33);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            font-size: 36px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary-color);
            line-height: 1;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
            margin-top: 8px;
        }
        
        /* Search and Filters */
        .controls-container {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
        }
        
        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .search-wrapper {
            flex: 1;
            min-width: 300px;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 14px 45px 14px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 15px;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .advanced-controls {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-select {
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: white;
            font-size: 14px;
            min-width: 160px;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        /* Barangay Grid */
        .brgy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
            display: none;
        }
        
        .brgy-grid.show {
            display: grid;
            animation: slideDown 0.3s;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .brgy-option {
            padding: 12px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .brgy-option:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }
        
        .brgy-option.active {
            background: linear-gradient(135deg, #0F7A5F, #134E33);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* Animal Grid */
        .adoption-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .animal-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.3s;
        }
        
        .animal-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }
        
        .animal-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 60px;
        }
        
        .animal-info {
            padding: 20px;
        }
        
        .animal-name {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .animal-details {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .animal-details p {
            margin: 5px 0;
        }
        
        .animal-actions {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 0;
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            animation: modalFadeIn 0.3s;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            padding: 25px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            color: var(--primary-color);
            font-size: 22px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: #f8f9fa;
        }
        
        .modal-body {
            padding: 25px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        /* Form Styles */
        .form-section {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .form-section-title {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
        }
        
        .form-group {
            flex: 1;
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }
        
        .form-group.required label:after {
            content: " *";
            color: #dc3545;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }
        
        /* Image Upload Styles */
        .image-upload-container {
            border: 2px dashed #e0e0e0;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s;
            margin-bottom: 20px;
        }
        
        .image-upload-container:hover {
            border-color: var(--primary-color);
        }
        
        .image-upload-container i {
            font-size: 48px;
            color: #ccc;
            margin-bottom: 15px;
        }
        
        .image-preview {
            display: none;
            margin-top: 20px;
            text-align: center;
        }
        
        .image-preview img {
            max-width: 200px;
            max-height: 200px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
        }
        
        /* Notification Styles */
        .notification-container {
            position: fixed;
            top: 30px;
            right: 30px;
            z-index: 3000;
        }
        
        .notification {
            background: white;
            padding: 18px 24px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-width: 350px;
            max-width: 400px;
            animation: slideInRight 0.3s;
            border-left: 5px solid;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification-success {
            border-left-color: #28a745;
        }
        
        .notification-error {
            border-left-color: #dc3545;
        }
        
        .notification-info {
            border-left-color: #17a2b8;
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .notification-content i {
            font-size: 20px;
        }
        
        .notification-success .notification-content i {
            color: #28a745;
        }
        
        .notification-error .notification-content i {
            color: #dc3545;
        }
        
        .notification-info .notification-content i {
            color: #17a2b8;
        }
        
        .notification-close {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 16px;
            padding: 5px;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .notification-close:hover {
            background-color: #f8f9fa;
        }
        
        /* Application Styles */
        .applications-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .application-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s;
        }
        
        .application-card:hover {
            transform: translateY(-5px);
        }
        
        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .application-header h4 {
            font-size: 18px;
            color: var(--primary-color);
            margin: 0;
        }
        
        .application-status {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-approved {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .application-details {
            margin-bottom: 20px;
        }
        
        .application-details p {
            margin: 8px 0;
            color: #666;
            font-size: 14px;
        }
        
        .application-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        /* Empty States */
        .empty-state {
            text-align: center;
            padding: 60px 30px;
            color: #666;
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
        }
        
        .empty-state i {
            font-size: 72px;
            color: #ddd;
            margin-bottom: 25px;
        }
        
        .empty-state h3 {
            color: #666;
            margin-bottom: 15px;
            font-size: 24px;
        }
        
        .empty-state p {
            max-width: 500px;
            margin: 0 auto 25px;
            line-height: 1.6;
            color: #888;
        }
        
        /* Loading State */
        .loading-state {
            text-align: center;
            padding: 60px 30px;
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Animal Summary */
        .animal-summary {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary-color);
        }
        
        .animal-summary h4 {
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .animal-summary p {
            color: #666;
            margin: 5px 0;
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a class="nav-brand" href="index.html">
                <i class="fas fa-leaf"></i>
                TreeTails
            </a>
            <div class="sidebar-profile">
                <div class="profile-mini">
                    <div class="profile-mini-avatar" id="userAvatar">G</div>
                    <div class="profile-mini-info">
                        <div class="profile-mini-name" id="userName">Guest</div>
                        <div class="profile-mini-role" id="userRole">Please Sign In</div>
                    </div>
                </div>
                <button class="btn report-btn" id="reportBtn">
                    <i class="fas fa-plus-circle"></i> Post Animal for Adoption
                </button>
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-primary" id="signInBtn">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                    <button class="btn btn-outline" id="signOutBtn" style="display: none;">
                        <i class="fas fa-sign-out-alt"></i> Sign Out
                    </button>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="bulletin.html"><i class="fas fa-bell"></i> Bulletin</a></li>
                <li><a href="adoption.html" class="active"><i class="fas fa-heart"></i> Adoption</a></li>
                <li><a href="map.html"><i class="fas fa-map"></i> Map</a></li>
            </ul>
        </div>
    </nav>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Main Content -->
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">üå≥üêæ</div>
                <div>
                    <div class="logo-text">TreeTails Olongapo</div>
                    <div class="tagline">Animal Adoption Directory</div>
                    <div class="subtagline">Connect with animals in need or list animals for adoption</div>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-primary" id="postAnimalBtn">
                    <i class="fas fa-plus"></i> Post Animal for Adoption
                </button>
                <button class="btn btn-outline" id="myListingsBtn">
                    <i class="fas fa-list"></i> My Listings
                </button>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="browse">Browse Animals</button>
            <button class="tab-btn" data-tab="mylistings">My Listings</button>
            <button class="tab-btn" data-tab="applications">My Applications</button>
        </div>

        <!-- Browse Animals Tab -->
        <div class="tab-content active" id="browseTab">
            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-dog stat-icon"></i>
                    <div class="stat-value" id="dogsCount">0</div>
                    <div class="stat-label">Dogs Available</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-cat stat-icon"></i>
                    <div class="stat-value" id="catsCount">0</div>
                    <div class="stat-label">Cats Available</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-home stat-icon"></i>
                    <div class="stat-value" id="adoptionsCount">0</div>
                    <div class="stat-label">Successful Adoptions</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-users stat-icon"></i>
                    <div class="stat-value" id="volunteersCount">24</div>
                    <div class="stat-label">Active Volunteers</div>
                </div>
            </div>

            <!-- Search and Filters -->
            <div class="controls-container">
                <div class="filter-header">
                    <div class="search-wrapper">
                        <div class="search-container">
                            <input type="text" class="search-input" id="animal-search" 
                                   placeholder="Search animals by name, breed, or description...">
                            <button class="btn btn-icon" id="clearSearch">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <small style="color: #666; margin-top: 8px; display: block;">
                            Showing <span id="showingCount">0</span> of <span id="totalCount">0</span> animals
                        </small>
                    </div>
                    <button class="btn btn-secondary" id="refreshDataBtn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>

                <!-- Advanced Filters -->
                <div class="advanced-controls">
                    <select class="filter-select" id="animal-filter">
                        <option value="all">All Animals</option>
                        <option value="dog">üêï Dogs Only</option>
                        <option value="cat">üêà Cats Only</option>
                    </select>

                    <select class="filter-select" id="gender-filter">
                        <option value="all">All Genders</option>
                        <option value="male">‚ôÇ Male</option>
                        <option value="female">‚ôÄ Female</option>
                    </select>

                    <select class="filter-select" id="age-filter">
                        <option value="all">All Ages</option>
                        <option value="baby">Baby (0-1 year)</option>
                        <option value="young">Young (1-3 years)</option>
                        <option value="adult">Adult (3-8 years)</option>
                        <option value="senior">Senior (8+ years)</option>
                    </select>

                    <button class="btn btn-outline" id="brgyToggle">
                        <i class="fas fa-map-marker-alt"></i> Filter by Barangay
                    </button>
                </div>

                <!-- Barangay Grid -->
                <div class="brgy-grid" id="brgyGrid">
                    <div class="brgy-option active" data-brgy="all">All Barangays</div>
                    <div class="brgy-option" data-brgy="Asinan">Asinan</div>
                    <div class="brgy-option" data-brgy="Banicain">Banicain</div>
                    <div class="brgy-option" data-brgy="Barreto">Barreto</div>
                    <div class="brgy-option" data-brgy="East Bajac-Bajac">East Bajac-Bajac</div>
                    <div class="brgy-option" data-brgy="East Tapinac">East Tapinac</div>
                    <div class="brgy-option" data-brgy="Gordon Heights">Gordon Heights</div>
                    <div class="brgy-option" data-brgy="Kalaklan">Kalaklan</div>
                    <div class="brgy-option" data-brgy="Mabayuan">Mabayuan</div>
                    <div class="brgy-option" data-brgy="New Cabalan">New Cabalan</div>
                    <div class="brgy-option" data-brgy="New Ilalim">New Ilalim</div>
                    <div class="brgy-option" data-brgy="New Kababae">New Kababae</div>
                    <div class="brgy-option" data-brgy="New Kalalake">New Kalalake</div>
                    <div class="brgy-option" data-brgy="Old Cabalan">Old Cabalan</div>
                    <div class="brgy-option" data-brgy="Pag-asa">Pag-asa</div>
                    <div class="brgy-option" data-brgy="Santa Rita">Santa Rita</div>
                    <div class="brgy-option" data-brgy="West Bajac-Bajac">West Bajac-Bajac</div>
                    <div class="brgy-option" data-brgy="West Tapinac">West Tapinac</div>
                </div>
            </div>

            <!-- Loading State -->
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Loading animals...</p>
            </div>

            <!-- Animals Grid -->
            <div class="adoption-grid" id="animals-container">
                <!-- Animals will be loaded here -->
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination"></div>
        </div>

        <!-- My Listings Tab -->
        <div class="tab-content" id="myListingsTab">
            <div class="empty-state" id="emptyListingsState">
                <i class="fas fa-paw"></i>
                <h3>No Animals Listed</h3>
                <p>You haven't listed any animals for adoption yet. Start by posting your first animal!</p>
                <button class="btn btn-primary" id="postFromEmptyListings">
                    <i class="fas fa-plus"></i> Post Animal for Adoption
                </button>
            </div>

            <div class="adoption-grid" id="myListingsContainer">
                <!-- My listings will be loaded here -->
            </div>
        </div>

        <!-- My Applications Tab -->
        <div class="tab-content" id="applicationsTab">
            <div class="empty-state" id="emptyApplicationsState">
                <i class="fas fa-file-alt"></i>
                <h3>No Applications</h3>
                <p>You haven't submitted any adoption applications yet. Browse animals and apply to adopt!</p>
                <button class="btn btn-primary" id="browseFromApplications">
                    <i class="fas fa-search"></i> Browse Animals
                </button>
            </div>

            <div class="applications-list" id="applicationsContainer">
                <!-- Applications will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Animal Detail Modal -->
    <div class="modal" id="animalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-animal-name">Animal Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modal-animal-details">
                <!-- Animal details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Adoption Form Modal -->
    <div class="modal" id="adoptionFormModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adoption Application</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="animal-summary" id="animalSummary"></div>
                
                <form id="adoption-form">
                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-user"></i> Personal Information</h4>
                        <div class="form-row">
                            <div class="form-group required">
                                <label for="applicant-name">Full Name *</label>
                                <input type="text" id="applicant-name" required>
                            </div>
                            <div class="form-group">
                                <label for="applicant-age">Age</label>
                                <input type="number" id="applicant-age" min="18" max="100">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group required">
                                <label for="applicant-email">Email Address *</label>
                                <input type="email" id="applicant-email" required>
                            </div>
                            <div class="form-group required">
                                <label for="applicant-phone">Phone Number *</label>
                                <input type="tel" id="applicant-phone" required>
                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="applicant-address">Home Address *</label>
                            <textarea id="applicant-address" required></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-home"></i> Living Situation</h4>
                        <div class="form-row">
                            <div class="form-group required">
                                <label for="housing-type">Housing Type *</label>
                                <select id="housing-type" required>
                                    <option value="">Select housing type</option>
                                    <option value="house">House</option>
                                    <option value="apartment">Apartment</option>
                                    <option value="condo">Condominium</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="yard-access">Yard Access</label>
                                <select id="yard-access">
                                    <option value="none">No Yard</option>
                                    <option value="small">Small Yard</option>
                                    <option value="large">Large Yard</option>
                                    <option value="fenced">Fenced Yard</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="household-members">Household Members (including yourself)</label>
                            <input type="number" id="household-members" min="1" max="20">
                        </div>
                    </div>

                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-paw"></i> Pet Experience</h4>
                        <div class="form-group">
                            <label for="current-pets">Current Pets (type and number)</label>
                            <input type="text" id="current-pets" placeholder="e.g., 1 dog, 2 cats">
                        </div>
                        <div class="form-group required">
                            <label for="experience">Previous Pet Experience *</label>
                            <textarea id="experience" required placeholder="Tell us about your experience with pets..."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-heart"></i> Adoption Information</h4>
                        <div class="form-group required">
                            <label for="adoption-reason">Why do you want to adopt this animal? *</label>
                            <textarea id="adoption-reason" required placeholder="Please share your reasons for wanting to adopt..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="preparation">How have you prepared for a new pet?</label>
                            <textarea id="preparation" placeholder="Tell us about your preparations..."></textarea>
                        </div>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancelAdoption">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submitAdoptionBtn">
                            <i class="fas fa-paper-plane"></i> Submit Application
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Post Animal Form Modal -->
    <div class="modal" id="postAnimalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Post Animal for Adoption</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="post-animal-form">
                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-paw"></i> Animal Information</h4>
                        <div class="form-row">
                            <div class="form-group required">
                                <label for="post-animal-name">Animal Name *</label>
                                <input type="text" id="post-animal-name" required>
                            </div>
                            <div class="form-group required">
                                <label for="post-animal-type">Animal Type *</label>
                                <select id="post-animal-type" required>
                                    <option value="">Select type</option>
                                    <option value="dog">Dog</option>
                                    <option value="cat">Cat</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-animal-breed">Breed</label>
                                <input type="text" id="post-animal-breed" placeholder="e.g., Mixed, Labrador, etc.">
                            </div>
                            <div class="form-group">
                                <label for="post-animal-age">Age</label>
                                <input type="text" id="post-animal-age" placeholder="e.g., 2 years, Puppy, etc.">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-animal-gender">Gender</label>
                                <select id="post-animal-gender">
                                    <option value="">Select gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="post-animal-size">Size</label>
                                <select id="post-animal-size">
                                    <option value="">Select size</option>
                                    <option value="small">Small</option>
                                    <option value="medium">Medium</option>
                                    <option value="large">Large</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group required">
                            <label for="post-animal-description">Description *</label>
                            <textarea id="post-animal-description" required placeholder="Describe the animal's personality, health condition, special needs, etc."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-map-marker-alt"></i> Location Information</h4>
                        <div class="form-group required">
                            <label for="post-animal-barangay">Barangay *</label>
                            <select id="post-animal-barangay" required>
                                <option value="">Select barangay</option>
                                <option value="Asinan">Asinan</option>
                                <option value="Banicain">Banicain</option>
                                <option value="Barreto">Barreto</option>
                                <option value="East Bajac-Bajac">East Bajac-Bajac</option>
                                <option value="East Tapinac">East Tapinac</option>
                                <option value="Gordon Heights">Gordon Heights</option>
                                <option value="Kalaklan">Kalaklan</option>
                                <option value="Mabayuan">Mabayuan</option>
                                <option value="New Cabalan">New Cabalan</option>
                                <option value="New Ilalim">New Ilalim</option>
                                <option value="New Kababae">New Kababae</option>
                                <option value="New Kalalake">New Kalalake</option>
                                <option value="Old Cabalan">Old Cabalan</option>
                                <option value="Pag-asa">Pag-asa</option>
                                <option value="Santa Rita">Santa Rita</option>
                                <option value="West Bajac-Bajac">West Bajac-Bajac</option>
                                <option value="West Tapinac">West Tapinac</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4 class="form-section-title"><i class="fas fa-user"></i> Contact Information</h4>
                        <div class="form-row">
                            <div class="form-group required">
                                <label for="post-owner-name">Your Name *</label>
                                <input type="text" id="post-owner-name" required>
                            </div>
                            <div class="form-group required">
                                <label for="post-owner-email">Your Email *</label>
                                <input type="email" id="post-owner-email" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-owner-phone">Phone Number</label>
                                <input type="tel" id="post-owner-phone">
                            </div>
                        </div>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancelPostAnimal">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submitPostAnimalBtn">
                            <i class="fas fa-paper-plane"></i> Post Animal
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Letter Modal -->
    <div class="modal" id="letterModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>Adoption Application Letter</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="letter-actions">
                    <button class="btn btn-secondary" id="downloadLetterBtn">
                        <i class="fas fa-download"></i> Download as TXT
                    </button>
                    <button class="btn btn-primary" id="printLetterBtn">
                        <i class="fas fa-print"></i> Print Letter
                    </button>
                </div>
                <pre class="application-letter" id="applicationLetterContent"></pre>
            </div>
        </div>
    </div>

    <!-- JavaScript Section -->
    <script>
        // Simple Adoption Platform with Local Storage
        class AdoptionPlatform {
            constructor() {
                this.animals = [];
                this.myListings = [];
                this.myApplications = [];
                this.currentAnimal = null;
                this.currentUser = null;
                this.filters = {
                    search: '',
                    type: 'all',
                    barangay: 'all',
                    age: 'all',
                    gender: 'all'
                };
                
                this.init();
            }

            init() {
                this.loadData();
                this.setupEventListeners();
                this.renderAnimals();
                this.renderMyListings();
                this.renderMyApplications();
                this.showNotification('Adoption platform loaded successfully! üêæ', 'success');
            }

            loadData() {
                // Load animals
                const savedAnimals = localStorage.getItem('treetails_animals');
                if (savedAnimals) {
                    this.animals = JSON.parse(savedAnimals);
                } else {
                    // Load sample data
                    this.loadSampleData();
                }

                // Load my listings
                const savedListings = localStorage.getItem('treetails_my_listings');
                this.myListings = savedListings ? JSON.parse(savedListings) : [];

                // Load my applications
                const savedApplications = localStorage.getItem('treetails_my_applications');
                this.myApplications = savedApplications ? JSON.parse(savedApplications) : [];

                this.updateStats();
            }

            loadSampleData() {
                this.animals = [
                    {
                        id: '1',
                        name: 'Buddy',
                        type: 'dog',
                        breed: 'Aspin (Mixed Breed)',
                        age: '2 years',
                        gender: 'male',
                        location: 'Barreto',
                        description: 'Friendly and energetic Aspin found near Barretto Beach. Loves playing fetch and gets along well with children. Already neutered and vaccinated.',
                        status: 'available',
                        postedBy: 'Maria Santos',
                        postedByEmail: 'maria.santos@email.com',
                        postedByPhone: '0917-123-4567',
                        createdAt: new Date('2024-01-15').toISOString(),
                        specialNotes: 'Good with other dogs, house-trained'
                    },
                    {
                        id: '2',
                        name: 'Mingming',
                        type: 'cat',
                        breed: 'Domestic Shorthair',
                        age: '1.5 years',
                        gender: 'female',
                        location: 'Gordon Heights',
                        description: 'Sweet and gentle cat rescued from Gordon Heights area. Loves cuddles and is litter-trained. Spayed and up-to-date on vaccinations.',
                        status: 'available',
                        postedBy: 'Juan Dela Cruz',
                        postedByEmail: 'juan.dc@email.com',
                        postedByPhone: '0922-987-6543',
                        createdAt: new Date('2024-01-20').toISOString(),
                        specialNotes: 'Indoor cat, prefers quiet environment'
                    },
                    {
                        id: '3',
                        name: 'Max',
                        type: 'dog',
                        breed: 'Askal',
                        age: '3 years',
                        gender: 'male',
                        location: 'East Tapinac',
                        description: 'Loyal and protective askal looking for a loving home. Very intelligent and learns commands quickly. Good guard dog.',
                        status: 'available',
                        postedBy: 'Pedro Reyes',
                        postedByEmail: 'pedro.reyes@email.com',
                        postedByPhone: '0918-456-7890',
                        createdAt: new Date('2024-02-01').toISOString(),
                        specialNotes: 'Needs regular exercise'
                    },
                    {
                        id: '4',
                        name: 'Luna',
                        type: 'cat',
                        breed: 'Siamese Mix',
                        age: '6 months',
                        gender: 'female',
                        location: 'West Tapinac',
                        description: 'Playful kitten looking for a forever home. Very affectionate and loves attention. Already litter trained.',
                        status: 'available',
                        postedBy: 'Ana Torres',
                        postedByEmail: 'ana.torres@email.com',
                        postedByPhone: '0927-111-2222',
                        createdAt: new Date('2024-02-05').toISOString(),
                        specialNotes: 'Needs indoor home only'
                    }
                ];

                localStorage.setItem('treetails_animals', JSON.stringify(this.animals));
                this.updateStats();
            }

            setupEventListeners() {
                // Search and filter events
                document.getElementById('animal-search').addEventListener('input', (e) => {
                    this.filters.search = e.target.value;
                    this.renderAnimals();
                });

                document.getElementById('animal-filter').addEventListener('change', (e) => {
                    this.filters.type = e.target.value;
                    this.renderAnimals();
                });

                document.getElementById('age-filter').addEventListener('change', (e) => {
                    this.filters.age = e.target.value;
                    this.renderAnimals();
                });

                document.getElementById('gender-filter').addEventListener('change', (e) => {
                    this.filters.gender = e.target.value;
                    this.renderAnimals();
                });

                // Barangay filter
                document.getElementById('brgyToggle').addEventListener('click', () => {
                    const grid = document.getElementById('brgyGrid');
                    grid.classList.toggle('show');
                });

                // Barangay options
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('brgy-option')) {
                        document.querySelectorAll('.brgy-option').forEach(opt => {
                            opt.classList.remove('active');
                        });
                        e.target.classList.add('active');
                        this.filters.barangay = e.target.dataset.brgy;
                        this.renderAnimals();
                    }
                });

                // Clear search
                document.getElementById('clearSearch').addEventListener('click', () => {
                    document.getElementById('animal-search').value = '';
                    this.filters.search = '';
                    this.renderAnimals();
                });

                // Refresh data
                document.getElementById('refreshDataBtn').addEventListener('click', () => {
                    this.loadData();
                    this.renderAnimals();
                    this.showNotification('Data refreshed!', 'success');
                });

                // Post animal button
                document.getElementById('postAnimalBtn').addEventListener('click', () => {
                    this.openPostAnimalForm();
                });

                document.getElementById('postFromEmptyListings').addEventListener('click', () => {
                    this.openPostAnimalForm();
                });

                document.getElementById('reportBtn').addEventListener('click', () => {
                    this.openPostAnimalForm();
                });

                // My listings button
                document.getElementById('myListingsBtn').addEventListener('click', () => {
                    this.switchTab('mylistings');
                });

                // Browse from applications
                document.getElementById('browseFromApplications').addEventListener('click', () => {
                    this.switchTab('browse');
                });

                // Tab switching
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const tab = e.target.dataset.tab;
                        this.switchTab(tab);
                    });
                });

                // Adoption form
                document.getElementById('adoption-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.submitAdoptionForm();
                });

                // Post animal form
                document.getElementById('post-animal-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.submitPostAnimalForm();
                });

                // Cancel buttons
                document.getElementById('cancelAdoption').addEventListener('click', () => {
                    this.closeModal('adoptionFormModal');
                });

                document.getElementById('cancelPostAnimal').addEventListener('click', () => {
                    this.closeModal('postAnimalModal');
                });

                // Close modals
                document.querySelectorAll('.close-modal').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const modal = e.target.closest('.modal');
                        if (modal) {
                            modal.style.display = 'none';
                        }
                    });
                });

                // Close modals when clicking outside
                window.addEventListener('click', (e) => {
                    if (e.target.classList.contains('modal')) {
                        e.target.style.display = 'none';
                    }
                });

                // Letter modal buttons
                document.getElementById('downloadLetterBtn').addEventListener('click', () => {
                    this.downloadApplicationLetter();
                });

                document.getElementById('printLetterBtn').addEventListener('click', () => {
                    this.printLetter();
                });
            }

            renderAnimals() {
                const container = document.getElementById('animals-container');
                const filteredAnimals = this.getFilteredAnimals();
                
                if (filteredAnimals.length === 0) {
                    container.innerHTML = this.getEmptyStateHTML();
                    this.updatePaginationInfo(0);
                    return;
                }

                container.innerHTML = filteredAnimals.map(animal => this.getAnimalCardHTML(animal)).join('');
                this.updatePaginationInfo(filteredAnimals.length);
            }

            getFilteredAnimals() {
                return this.animals.filter(animal => {
                    // Search filter
                    if (this.filters.search) {
                        const searchTerm = this.filters.search.toLowerCase();
                        const searchableText = `
                            ${animal.name || ''} 
                            ${animal.breed || ''} 
                            ${animal.description || ''} 
                            ${animal.location || ''}
                        `.toLowerCase();
                        
                        if (!searchableText.includes(searchTerm)) {
                            return false;
                        }
                    }

                    // Type filter
                    if (this.filters.type !== 'all' && animal.type !== this.filters.type) {
                        return false;
                    }

                    // Barangay filter
                    if (this.filters.barangay !== 'all' && animal.location !== this.filters.barangay) {
                        return false;
                    }

                    // Age filter (simplified)
                    if (this.filters.age !== 'all') {
                        const ageText = animal.age || '';
                        if (this.filters.age === 'baby' && !ageText.toLowerCase().includes('month') && !ageText.includes('baby')) {
                            return false;
                        }
                    }

                    // Gender filter
                    if (this.filters.gender !== 'all' && animal.gender !== this.filters.gender) {
                        return false;
                    }

                    return true;
                });
            }

            getAnimalCardHTML(animal) {
                const genderIcon = animal.gender === 'male' ? '‚ôÇ' : '‚ôÄ';
                const typeIcon = animal.type === 'dog' ? 'fa-dog' : 'fa-cat';

                return `
                    <div class="animal-card" data-animal-id="${animal.id}">
                        <div class="animal-image">
                            <i class="fas ${typeIcon}"></i>
                        </div>
                        <div class="animal-info">
                            <div class="animal-name">${animal.name}</div>
                            <div class="animal-details">
                                <p>Breed: ${animal.breed || 'Mixed'}</p>
                                <p>Age: ${animal.age || 'Unknown'}</p>
                                <p>Gender: ${genderIcon} ${animal.gender || 'Unknown'}</p>
                                <p>Location: ${animal.location || 'Olongapo City'}</p>
                            </div>
                            <div class="animal-actions">
                                <button class="btn btn-small btn-primary" onclick="adoptionPlatform.viewAnimalDetails('${animal.id}')">
                                    <i class="fas fa-eye"></i> View
                                </button>
                                <button class="btn btn-small btn-outline" onclick="adoptionPlatform.openAdoptionForm('${animal.id}')">
                                    <i class="fas fa-heart"></i> Adopt
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderMyListings() {
                const container = document.getElementById('myListingsContainer');
                const emptyState = document.getElementById('emptyListingsState');
                
                if (this.myListings.length === 0) {
                    container.innerHTML = '';
                    emptyState.style.display = 'block';
                    return;
                }

                emptyState.style.display = 'none';
                container.innerHTML = this.myListings.map(listing => this.getListingCardHTML(listing)).join('');
            }

            getListingCardHTML(listing) {
                const genderIcon = listing.gender === 'male' ? '‚ôÇ' : '‚ôÄ';
                const typeIcon = listing.type === 'dog' ? 'fa-dog' : 'fa-cat';

                return `
                    <div class="animal-card" data-animal-id="${listing.id}">
                        <div class="animal-image">
                            <i class="fas ${typeIcon}"></i>
                        </div>
                        <div class="animal-info">
                            <div class="animal-name">${listing.name}</div>
                            <div class="animal-details">
                                <p>Breed: ${listing.breed || 'Mixed'}</p>
                                <p>Age: ${listing.age || 'Unknown'}</p>
                                <p>Gender: ${genderIcon} ${listing.gender || 'Unknown'}</p>
                                <p>Status: ${listing.status || 'available'}</p>
                            </div>
                            <div class="animal-actions">
                                <button class="btn btn-small btn-primary" onclick="adoptionPlatform.viewAnimalDetails('${listing.id}')">
                                    <i class="fas fa-eye"></i> View
                                </button>
                                <button class="btn btn-small btn-secondary" onclick="adoptionPlatform.removeListing('${listing.id}')">
                                    <i class="fas fa-trash"></i> Remove
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderMyApplications() {
                const container = document.getElementById('applicationsContainer');
                const emptyState = document.getElementById('emptyApplicationsState');
                
                if (this.myApplications.length === 0) {
                    container.innerHTML = '';
                    emptyState.style.display = 'block';
                    return;
                }

                emptyState.style.display = 'none';
                container.innerHTML = this.myApplications.map(app => this.getApplicationHTML(app)).join('');
            }

            getApplicationHTML(application) {
                const status = application.status || 'pending';
                const statusClass = `status-${status}`;
                
                return `
                    <div class="application-card">
                        <div class="application-header">
                            <h4>${application.animalName}</h4>
                            <span class="application-status ${statusClass}">
                                ${status}
                            </span>
                        </div>
                        <div class="application-details">
                            <p><strong>Animal Type:</strong> ${application.animalType}</p>
                            <p><strong>Submitted:</strong> ${new Date(application.submittedAt).toLocaleDateString()}</p>
                            <p><strong>Application ID:</strong> ${application.id.substring(0, 8)}...</p>
                        </div>
                        <div class="application-actions">
                            <button class="btn btn-small btn-outline" onclick="adoptionPlatform.showApplicationLetter('${application.id}')">
                                <i class="fas fa-file-alt"></i> View Letter
                            </button>
                            <button class="btn btn-small" onclick="adoptionPlatform.downloadLetter('${application.id}')">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    </div>
                `;
            }

            viewAnimalDetails(animalId) {
                const animal = this.animals.find(a => a.id === animalId) || 
                              this.myListings.find(l => l.id === animalId);
                
                if (!animal) {
                    this.showNotification('Animal not found', 'error');
                    return;
                }

                this.currentAnimal = animal;
                
                document.getElementById('modal-animal-name').textContent = animal.name;
                
                const genderIcon = animal.gender === 'male' ? '‚ôÇ' : '‚ôÄ';
                const typeIcon = animal.type === 'dog' ? 'üêï' : 'üêà';
                
                document.getElementById('modal-animal-details').innerHTML = `
                    <div class="animal-detail-view">
                        <div class="animal-image-large" style="width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 60px; margin-bottom: 20px; border-radius: 8px;">
                            <i class="fas fa-${animal.type}"></i>
                        </div>
                        <div class="animal-info-details">
                            <p><strong>Type:</strong> ${animal.type}</p>
                            <p><strong>Breed:</strong> ${animal.breed || 'Mixed breed'}</p>
                            <p><strong>Age:</strong> ${animal.age || 'Unknown'}</p>
                            <p><strong>Gender:</strong> ${animal.gender || 'Unknown'}</p>
                            <p><strong>Location:</strong> ${animal.location || 'Olongapo City'}</p>
                            <p><strong>Description:</strong> ${animal.description || 'No description provided'}</p>
                            <p><strong>Posted by:</strong> ${animal.postedBy || 'Anonymous'}</p>
                            <p><strong>Contact:</strong> ${animal.postedByEmail || 'Email not provided'}</p>
                            ${animal.postedByPhone ? `<p><strong>Phone:</strong> ${animal.postedByPhone}</p>` : ''}
                        </div>
                        <div style="margin-top: 20px; text-align: center;">
                            <button class="btn btn-primary" onclick="adoptionPlatform.openAdoptionForm('${animal.id}')">
                                <i class="fas fa-heart"></i> Apply to Adopt ${animal.name}
                            </button>
                        </div>
                    </div>
                `;
                
                this.openModal('animalModal');
            }

            openAdoptionForm(animalId) {
                const animal = this.animals.find(a => a.id === animalId);
                if (!animal) {
                    this.showNotification('Animal not found', 'error');
                    return;
                }

                this.currentAnimal = animal;
                
                // Update animal summary
                document.getElementById('animalSummary').innerHTML = `
                    <div class="animal-summary-content">
                        <h4>You're applying to adopt: ${animal.name}</h4>
                        <p>${animal.type} ‚Ä¢ ${animal.breed || 'Mixed breed'} ‚Ä¢ ${animal.gender || 'Unknown'} ‚Ä¢ ${animal.age || 'Unknown age'}</p>
                    </div>
                `;

                // Clear form (except we might want to keep user data in a real app)
                document.getElementById('applicant-name').value = '';
                document.getElementById('applicant-email').value = '';
                document.getElementById('applicant-phone').value = '';
                document.getElementById('applicant-address').value = '';
                document.getElementById('applicant-age').value = '';
                document.getElementById('housing-type').value = '';
                document.getElementById('yard-access').value = 'none';
                document.getElementById('household-members').value = '';
                document.getElementById('current-pets').value = '';
                document.getElementById('experience').value = '';
                document.getElementById('adoption-reason').value = '';
                document.getElementById('preparation').value = '';

                this.openModal('adoptionFormModal');
            }

            async submitAdoptionForm() {
                if (!this.currentAnimal) {
                    this.showNotification('No animal selected', 'error');
                    return;
                }

                const submitBtn = document.getElementById('submitAdoptionBtn');
                const originalText = submitBtn.innerHTML;
                
                try {
                    // Show loading state
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
                    submitBtn.disabled = true;

                    // Collect form data
                    const applicationData = {
                        id: 'app_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        applicantName: document.getElementById('applicant-name').value,
                        applicantEmail: document.getElementById('applicant-email').value,
                        applicantPhone: document.getElementById('applicant-phone').value,
                        applicantAddress: document.getElementById('applicant-address').value,
                        applicantAge: document.getElementById('applicant-age').value,
                        housingType: document.getElementById('housing-type').value,
                        yardAccess: document.getElementById('yard-access').value,
                        householdMembers: document.getElementById('household-members').value,
                        currentPets: document.getElementById('current-pets').value,
                        experience: document.getElementById('experience').value,
                        adoptionReason: document.getElementById('adoption-reason').value,
                        preparation: document.getElementById('preparation').value,
                        animalId: this.currentAnimal.id,
                        animalName: this.currentAnimal.name,
                        animalType: this.currentAnimal.type,
                        animalBreed: this.currentAnimal.breed,
                        animalLocation: this.currentAnimal.location,
                        animalPosterEmail: this.currentAnimal.postedByEmail,
                        animalPosterName: this.currentAnimal.postedBy,
                        submittedAt: new Date().toISOString(),
                        status: 'pending'
                    };

                    // Validate form
                    const errors = this.validateAdoptionForm(applicationData);
                    if (errors.length > 0) {
                        throw new Error(errors.join(', '));
                    }

                    // Generate application letter
                    const applicationLetter = this.generateApplicationLetter(applicationData);
                    applicationData.letter = applicationLetter;

                    // Store application
                    this.myApplications.push(applicationData);
                    localStorage.setItem('treetails_my_applications', JSON.stringify(this.myApplications));

                    // Save letter separately for easy access
                    const letters = JSON.parse(localStorage.getItem('treetails_letters') || '{}');
                    letters[applicationData.id] = applicationLetter;
                    localStorage.setItem('treetails_letters', JSON.stringify(letters));

                    this.showNotification(
                        `üéâ Your adoption application for ${this.currentAnimal.name} has been submitted successfully!`,
                        'success'
                    );

                    this.closeModal('adoptionFormModal');
                    this.renderMyApplications();

                    // Ask if user wants to download the letter
                    setTimeout(() => {
                        if (confirm("Would you like to download a copy of your application letter?")) {
                            this.downloadLetter(applicationData.id);
                        }
                    }, 1000);

                } catch (error) {
                    console.error('Adoption submission error:', error);
                    this.showNotification(
                        `‚ùå ${error.message || 'There was an error submitting your application. Please try again.'}`,
                        'error'
                    );
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }

            generateApplicationLetter(applicationData) {
                const currentDate = new Date().toLocaleDateString('en-PH', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                return `
====================================================
TREE TAILS ADOPTION APPLICATION LETTER
====================================================

Date: ${currentDate}
Application ID: ${applicationData.id.substring(0, 16)}
Animal: ${applicationData.animalName} (${applicationData.animalType} - ${applicationData.animalBreed || "Mixed breed"})

Dear ${applicationData.animalPosterName || "Animal Owner"},

I, ${applicationData.applicantName}, am writing to express my sincere interest 
in adopting ${applicationData.animalName} (${applicationData.animalType} - ${applicationData.animalBreed || "Mixed breed"}).

PERSONAL INFORMATION:
‚Ä¢ Name: ${applicationData.applicantName}
‚Ä¢ Email: ${applicationData.applicantEmail}
‚Ä¢ Phone: ${applicationData.applicantPhone}
‚Ä¢ Address: ${applicationData.applicantAddress}
‚Ä¢ Age: ${applicationData.applicantAge || "Not specified"}

LIVING SITUATION:
‚Ä¢ Housing Type: ${applicationData.housingType}
‚Ä¢ Yard Access: ${applicationData.yardAccess || "Not specified"}
‚Ä¢ Household Members: ${applicationData.householdMembers || "Not specified"}
‚Ä¢ Current Pets: ${applicationData.currentPets || "None"}

PET EXPERIENCE:
${applicationData.experience}

REASON FOR ADOPTION:
${applicationData.adoptionReason}

PREPARATIONS MADE:
${applicationData.preparation || "Standard preparations will be made upon approval"}

I understand that adopting ${applicationData.animalName} is a serious commitment and 
I am fully prepared to provide a loving, safe, and permanent home.

Please feel free to contact me at ${applicationData.applicantPhone} or 
${applicationData.applicantEmail} to discuss my application further.

Sincerely,
${applicationData.applicantName}

====================================================
TreeTails Olongapo Adoption Directory
üå≥üêæ Giving animals a second chance at life
====================================================
`;
            }

            openPostAnimalForm() {
                // Clear form
                document.getElementById('post-animal-name').value = '';
                document.getElementById('post-animal-type').value = '';
                document.getElementById('post-animal-breed').value = '';
                document.getElementById('post-animal-age').value = '';
                document.getElementById('post-animal-gender').value = '';
                document.getElementById('post-animal-size').value = '';
                document.getElementById('post-animal-description').value = '';
                document.getElementById('post-animal-barangay').value = '';
                document.getElementById('post-owner-name').value = '';
                document.getElementById('post-owner-email').value = '';
                document.getElementById('post-owner-phone').value = '';

                this.openModal('postAnimalModal');
            }

            submitPostAnimalForm() {
                const submitBtn = document.getElementById('submitPostAnimalBtn');
                const originalText = submitBtn.innerHTML;
                
                try {
                    // Show loading state
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Posting...';
                    submitBtn.disabled = true;

                    const animalData = {
                        id: 'animal_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        name: document.getElementById('post-animal-name').value,
                        type: document.getElementById('post-animal-type').value,
                        breed: document.getElementById('post-animal-breed').value,
                        age: document.getElementById('post-animal-age').value,
                        gender: document.getElementById('post-animal-gender').value,
                        size: document.getElementById('post-animal-size').value,
                        description: document.getElementById('post-animal-description').value,
                        location: document.getElementById('post-animal-barangay').value,
                        postedBy: document.getElementById('post-owner-name').value,
                        postedByEmail: document.getElementById('post-owner-email').value,
                        postedByPhone: document.getElementById('post-owner-phone').value,
                        status: 'available',
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    };

                    // Validate form
                    const errors = this.validatePostForm(animalData);
                    if (errors.length > 0) {
                        throw new Error(errors.join(', '));
                    }

                    // Store animal
                    this.animals.unshift(animalData);
                    localStorage.setItem('treetails_animals', JSON.stringify(this.animals));

                    // Also add to my listings
                    this.myListings.unshift(animalData);
                    localStorage.setItem('treetails_my_listings', JSON.stringify(this.myListings));

                    this.showNotification(
                        `üéâ Your animal ${animalData.name} has been posted for adoption successfully!`,
                        'success'
                    );

                    this.closeModal('postAnimalModal');
                    this.updateStats();
                    this.renderAnimals();
                    this.renderMyListings();

                } catch (error) {
                    console.error('Post animal error:', error);
                    this.showNotification(
                        `‚ùå ${error.message || 'There was an error posting your animal. Please try again.'}`,
                        'error'
                    );
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }

            validateAdoptionForm(formData) {
                const errors = [];
                
                if (!formData.applicantName.trim()) errors.push('Full name is required');
                if (!formData.applicantEmail.trim()) errors.push('Email is required');
                if (!formData.applicantPhone.trim()) errors.push('Phone number is required');
                if (!formData.applicantAddress.trim()) errors.push('Address is required');
                if (!formData.housingType) errors.push('Housing type is required');
                if (!formData.experience.trim()) errors.push('Please describe your pet experience');
                if (!formData.adoptionReason.trim()) errors.push('Please explain why you want to adopt');
                
                return errors;
            }

            validatePostForm(formData) {
                const errors = [];
                
                if (!formData.name.trim()) errors.push('Animal name is required');
                if (!formData.type) errors.push('Animal type is required');
                if (!formData.description.trim()) errors.push('Description is required');
                if (!formData.location) errors.push('Location is required');
                if (!formData.postedBy.trim()) errors.push('Your name is required');
                if (!formData.postedByEmail.trim()) errors.push('Email is required');
                
                return errors;
            }

            removeListing(listingId) {
                if (confirm('Are you sure you want to remove this listing?')) {
                    // Remove from my listings
                    this.myListings = this.myListings.filter(l => l.id !== listingId);
                    localStorage.setItem('treetails_my_listings', JSON.stringify(this.myListings));
                    
                    // Also remove from animals list
                    this.animals = this.animals.filter(a => a.id !== listingId);
                    localStorage.setItem('treetails_animals', JSON.stringify(this.animals));
                    
                    this.renderMyListings();
                    this.renderAnimals();
                    this.updateStats();
                    this.showNotification('Listing removed successfully', 'success');
                }
            }

            showApplicationLetter(applicationId) {
                const letters = JSON.parse(localStorage.getItem('treetails_letters') || '{}');
                const letter = letters[applicationId];
                
                if (!letter) {
                    this.showNotification('Application letter not found', 'error');
                    return;
                }
                
                document.getElementById('applicationLetterContent').textContent = letter;
                document.getElementById('downloadLetterBtn').onclick = () => this.downloadLetter(applicationId);
                document.getElementById('printLetterBtn').onclick = () => this.printLetter(applicationId);
                
                this.openModal('letterModal');
            }

            downloadLetter(applicationId) {
                const letters = JSON.parse(localStorage.getItem('treetails_letters') || '{}');
                const letter = letters[applicationId];
                
                if (!letter) {
                    this.showNotification('Letter not found', 'error');
                    return;
                }
                
                const blob = new Blob([letter], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `TreeTails_Application_${applicationId.substring(0, 8)}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.showNotification('Letter downloaded successfully', 'success');
            }

            printLetter(applicationId) {
                const letters = JSON.parse(localStorage.getItem('treetails_letters') || '{}');
                const letter = letters[applicationId];
                
                if (!letter) {
                    this.showNotification('Letter not found', 'error');
                    return;
                }
                
                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <html>
                        <head>
                            <title>TreeTails Adoption Application Letter</title>
                            <style>
                                body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
                                pre { white-space: pre-wrap; font-family: 'Courier New', monospace; }
                                @media print {
                                    .no-print { display: none; }
                                    body { margin: 0; }
                                }
                            </style>
                        </head>
                        <body>
                            <button class="no-print" onclick="window.print()" style="margin-bottom: 20px; padding: 10px 20px; background: #0F7A5F; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                Print Letter
                            </button>
                            <pre>${letter}</pre>
                        </body>
                    </html>
                `);
                printWindow.document.close();
            }

            updateStats() {
                const dogs = this.animals.filter(a => a.type === 'dog').length;
                const cats = this.animals.filter(a => a.type === 'cat').length;
                
                document.getElementById('dogsCount').textContent = dogs;
                document.getElementById('catsCount').textContent = cats;
                document.getElementById('adoptionsCount').textContent = this.myApplications.length;
            }

            updatePaginationInfo(totalItems) {
                document.getElementById('showingCount').textContent = totalItems;
                document.getElementById('totalCount').textContent = totalItems;
            }

            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                    <button class="notification-close">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                container.appendChild(notification);
                
                // Add close event
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.remove();
                });
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }

            getEmptyStateHTML() {
                return `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-search"></i>
                        <h3>No Animals Found</h3>
                        <p>No animals match your search criteria. Try different filters or check back later.</p>
                        <button class="btn btn-primary" onclick="adoptionPlatform.clearFilters()">
                            <i class="fas fa-times"></i> Clear All Filters
                        </button>
                    </div>
                `;
            }

            clearFilters() {
                this.filters = {
                    search: '',
                    type: 'all',
                    barangay: 'all',
                    age: 'all',
                    gender: 'all'
                };
                
                document.getElementById('animal-search').value = '';
                document.getElementById('animal-filter').value = 'all';
                document.getElementById('age-filter').value = 'all';
                document.getElementById('gender-filter').value = 'all';
                
                document.querySelectorAll('.brgy-option').forEach(opt => opt.classList.remove('active'));
                document.querySelector('.brgy-option[data-brgy="all"]').classList.add('active');
                
                this.renderAnimals();
            }

            openModal(modalId) {
                document.getElementById(modalId).style.display = 'flex';
            }

            closeModal(modalId) {
                document.getElementById(modalId).style.display = 'none';
            }

            switchTab(tabName) {
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Remove active class from all tab buttons
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show selected tab content
                document.getElementById(tabName + 'Tab').classList.add('active');
                
                // Activate selected tab button
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            }
        }

        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.adoptionPlatform = new AdoptionPlatform();
        });
    </script>
</body>
</html>